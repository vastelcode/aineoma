–û—Ç–ª–∏—á–Ω–∞—è –∏–¥–µ—è! –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä: –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã (—Å–≤–µ—Ç–ª–∞—è/—Ç–µ–º–Ω–∞—è). –≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω—ã–π –±–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã Redux. –†–∞–∑–±–µ—Ä–µ–º –ø–æ —à–∞–≥–∞–º:

### 1. –°–æ–∑–¥–∞–µ–º —Å–ª–∞–π—Å (slice) –¥–ª—è —Ç–µ–º—ã

**–§–∞–π–ª:** `@/features/theme/model/slice.ts`

```typescript
import { createSlice, PayloadAction } from '@reduxjs/toolkit';

// 1. –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
type ThemeState = {
  mode: 'light' | 'dark';
};

// 2. –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
const initialState: ThemeState = {
  mode: 'light',
};

// 3. –°–æ–∑–¥–∞–µ–º —Å–ª–∞–π—Å
const themeSlice = createSlice({
  name: 'theme', // –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è
  initialState,  // –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  reducers: {
    // 4. –°–æ–∑–¥–∞–µ–º —ç–∫—à–µ–Ω –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã
    toggleTheme(state) {
      state.mode = state.mode === 'light' ? 'dark' : 'light';
    },
    // 5. –≠–∫—à–µ–Ω –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–µ–º—ã
    setTheme(state, action: PayloadAction<'light' | 'dark'>) {
      state.mode = action.payload;
    }
  },
});

// 6. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —ç–∫—à–µ–Ω—ã
export const { toggleTheme, setTheme } = themeSlice.actions;

// 7. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ä–µ–¥—é—Å–µ—Ä
export default themeSlice.reducer;
```

### 2. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º —Ä–µ–¥—é—Å–µ—Ä –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

**–§–∞–π–ª:** `@/app/providers/store/root-reducer.ts`

```typescript
import { combineReducers } from '@reduxjs/toolkit';
import themeReducer from '@/features/theme/model/slice'; // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—à —Ä–µ–¥—é—Å–µ—Ä

const rootReducer = combineReducers({
  theme: themeReducer, // –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–¥—é—Å–µ—Ä —Ç–µ–º—ã
  // ... –¥—Ä—É–≥–∏–µ —Ä–µ–¥—é—Å–µ—Ä—ã
});

export default rootReducer;
```

### 3. –û–±–Ω–æ–≤–ª—è–µ–º whitelist –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–º—ã

**–§–∞–π–ª:** `@/app/providers/store/index.ts`

```typescript
const persistConfig = {
  key: 'root',
  storage,
  whitelist: ['theme'], // –î–æ–±–∞–≤–ª—è–µ–º 'theme' –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
  // ...
};
```

### 4. –°–æ–∑–¥–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã

**–§–∞–π–ª:** `@/features/theme/ui/ThemeToggle.tsx`

```tsx
import { useDispatch, useSelector } from 'react-redux';
import { AppDispatch, RootState } from '@/app/providers/store';
import { toggleTheme } from '../model/slice';

const ThemeToggle = () => {
  // 1. –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é —Ç–µ–º—É –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
  const theme = useSelector((state: RootState) => state.theme.mode);
  
  // 2. –ü–æ–ª—É—á–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é dispatch –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —ç–∫—à–µ–Ω–æ–≤
  const dispatch = useDispatch<AppDispatch>();

  return (
    <button 
      onClick={() => dispatch(toggleTheme())}
      className="px-4 py-2 bg-blue-500 text-white rounded"
    >
      {theme === 'light' ? 'üåû –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞' : 'üåö –¢–µ–º–Ω–∞—è —Ç–µ–º–∞'}
    </button>
  );
};

export default ThemeToggle;
```

### 5. –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–º—É –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ

**–ü—Ä–∏–º–µ—Ä –≤ Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:**

```tsx
import { useSelector } from 'react-redux';
import { RootState } from '@/app/providers/store';

const Layout = ({ children }: { children: React.ReactNode }) => {
  // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é —Ç–µ–º—É –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
  const theme = useSelector((state: RootState) => state.theme.mode);

  return (
    <div className={theme === 'dark' ? 'dark-theme' : 'light-theme'}>
      {children}
    </div>
  );
};
```

### 6. –ì–¥–µ —É–≥–æ–¥–Ω–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–æ–∂–µ–º –∏–∑–º–µ–Ω–∏—Ç—å —Ç–µ–º—É

```tsx
import { useDispatch } from 'react-redux';
import { AppDispatch } from '@/app/providers/store';
import { setTheme } from '@/features/theme/model/slice';

const SomeComponent = () => {
  const dispatch = useDispatch<AppDispatch>();

  const enableDarkMode = () => {
    dispatch(setTheme('dark'));
  };

  const enableLightMode = () => {
    dispatch(setTheme('light'));
  };

  return (
    <div>
      <button onClick={enableDarkMode}>–í–∫–ª—é—á–∏—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É</button>
      <button onClick={enableLightMode}>–í–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É</button>
    </div>
  );
};
```

### –ü–æ—à–∞–≥–æ–≤–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã:

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
   - –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Redux
   - –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ–º—ã: `{ mode: 'light' }`

2. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç ThemeToggle:**
   - `useSelector` –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è `state.theme.mode`
   - –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ –¥–∏—Å–ø–µ—Ç—á–∏—Ç—Å—è —ç–∫—à–µ–Ω `toggleTheme()`

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —ç–∫—à–µ–Ω–∞:**
   - –≠–∫—à–µ–Ω `toggleTheme` –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ä–µ–¥—é—Å–µ—Ä —Ç–µ–º—ã
   - –†–µ–¥—é—Å–µ—Ä –∏–∑–º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
     ```ts
     state.mode = state.mode === 'light' ? 'dark' : 'light'
     ```

4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
   - –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ `useSelector` –¥–ª—è —Ç–µ–º—ã, –ø–æ–ª—É—á–∞—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç ThemeToggle –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è —Å –Ω–æ–≤—ã–º —Ç–µ–∫—Å—Ç–æ–º –∫–Ω–æ–ø–∫–∏
   - Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–∏–º–µ–Ω—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏

5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
   - –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è redux-persist –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–º—É –≤ localStorage
   - –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:

1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å–ª–∞–π—Å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Ñ–∏—á–µ:
   ```ts
   // features/new-feature/model/slice.ts
   const slice = createSlice({
     name: 'featureName',
     initialState,
     reducers: {
       actionName: (state, action) => { /* –ª–æ–≥–∏–∫–∞ */ }
     }
   })
   ```

2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–¥—é—Å–µ—Ä –≤ –∫–æ—Ä–Ω–µ–≤–æ–º —Ä–µ–¥—é—Å–µ—Ä–µ:
   ```ts
   // app/providers/store/root-reducer.ts
   const rootReducer = combineReducers({
     theme: themeReducer,
     newFeature: newFeatureReducer,
   });
   ```

3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:
   ```tsx
   const value = useSelector((state: RootState) => state.newFeature.value);
   const dispatch = useDispatch();
   dispatch(newFeatureAction());
   ```

### –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:

1. **useSelector** - —Ö—É–∫ –¥–ª—è —á—Ç–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
2. **useDispatch** - —Ö—É–∫ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —ç–∫—à–µ–Ω–æ–≤
3. **createSlice** - —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–¥—é—Å–µ—Ä –∏ —ç–∫—à–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
4. **persistReducer** - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —á–∞—Å—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
5. **combineReducers** - –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–¥—é—Å–µ—Ä–æ–≤

–≠—Ç–æ –±–∞–∑–æ–≤–∞—è, –Ω–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ç–µ–º—ã. –î–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ AiNeoma —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å Redux.